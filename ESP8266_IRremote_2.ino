#include<ESP8266WiFi.h>
#include<WiFiClient.h>
#include<Arduino.h>
#include<IRsend.h>
#include<IRremoteESP8266.h>
const char* ssid=""; //WiFi SSID
const char* pass=""; //WiFi Password
const uint16_t kIrLed=4;
WiFiServer server(80);
IRsend remote(kIrLed);
void setup()
{
  WiFi.begin(ssid,pass);
  server.begin();
  Serial.begin(9600);
  Run();
}
void loop()
{
}
void Run()
{
  uint16_t Power[75]={4550,4400, 600,1650, 600,1650, 600,1650, 550,550, 600,500, 600,550, 550,550, 600,500, 600,1650, 600,1600, 600,1650, 600,500, 600,550, 600,500, 600,550, 550,550, 600,500, 600,1650, 600,500, 600,500, 600,550, 600,500, 600,500, 600,550, 600,1600, 600,550, 600,1600, 600,1650, 600,1650, 600,1600, 600,1650, 550,1700, 550,550, 550,550, 600,500, 600,550, 550};  
  uint16_t VolU[75]={4500,4450, 600,1650, 600,1650, 550,1650, 600,550, 600,500, 600,500, 600,550, 600,500, 600,1650, 600,1600, 600,1650, 600,500, 600,550, 600,500, 600,500, 600,550, 600,1600, 600,1650, 600,1650, 600,500, 600,500, 600,550, 600,500, 600,500, 600,550, 600,500, 600,550, 550,1650, 600,1650, 600,1600, 600,1650, 600,1650, 600,500, 600,500, 600,550, 600,500, 600};
  uint16_t VolD[75]={4500,4450, 600,1650, 550,1700, 550,1650, 600,550, 550,550, 550,550, 600,550, 550,550, 550,1650, 600,1650, 600,1650, 550,550, 600,500, 600,550, 550,550, 600,500, 600,1650, 600,1650, 550,550, 600,1650, 550,550, 600,500, 600,550, 550,550, 600,500, 600,550, 550,1650, 600,550, 550,1650, 600,1650, 550,1700, 550,1650, 600,550, 550,550, 550,550, 600,550, 550};
  uint16_t HDMI[75]={4500,4450, 600,1650, 550,1650, 600,1650, 600,500, 600,550, 550,550, 600,500, 600,550, 550,1650, 600,1650, 600,1650, 550,550, 600,500, 600,550, 550,550, 550,550, 600,1650, 550,1700, 550,550, 550,1700, 550,550, 550,550, 600,550, 550,1650, 600,550, 550,550, 550,1700, 550,550, 550,1700, 550,1650, 600,1650, 550,550, 600,550, 550,550, 550,550, 600,550, 550};
  uint16_t On[199]= {4350,4250, 600,1550, 600,450, 600,1550, 600,1550, 600,500, 550,500, 600,1550, 600,500, 600,450, 600,1550, 600,500, 550,500, 600,1550, 600,1550, 600,500, 550,1600, 550,500, 600,450, 600,500, 600,1550, 600,1550, 600,1550, 550,1600, 550,1600, 550,1600, 550,1550, 600,1550, 600,500, 550,500, 600,500, 550,500, 600,500, 600,1550, 550,1600, 550,500, 600,500, 550,500, 600,1550, 600,500, 550,500, 600,500, 550,500, 600,1550, 600,1550, 600,1550, 600,450, 600,1550, 600,1550, 600,5050, 4400,4250, 550,1550, 600,500, 600,1550, 600,1550, 600,450, 600,500, 600,1550, 550,500, 600,500, 600,1550, 550,500, 600,500, 600,1550, 550,1550, 600,500, 600,1550, 600,450, 600,500, 600,450, 600,1600, 550,1600, 550,1550, 600,1550, 600,1550, 600,1550, 600,1550, 550,1600, 550,500, 600,500, 550,500, 600,500, 550,500, 600,1550, 600,1550, 600,500, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,500, 600,500, 550,1600, 550,1550, 600,1550, 600,500, 600,1550, 550,1600, 550};
  uint16_t Off[199]={4300,4250, 600,1600, 550,500, 600,1550, 600,1550, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,1600, 550,1600, 550,500, 600,1550, 600,500, 550,1600, 550,1600, 550,1550, 600,1550, 600,500, 550,1550, 600,1600, 550,1600, 550,500, 600,450, 600,500, 600,450, 600,1550, 600,500, 600,450, 600,1550, 600,1550, 600,1550, 600,500, 550,500, 600,500, 550,500, 600,500, 600,450, 600,500, 600,450, 600,1600, 550,1550, 600,1550, 600,1550, 600,1550, 600,5050, 4350,4250, 600,1550, 600,500, 550,1600, 550,1600, 550,500, 600,500, 550,1600, 550,500, 600,450, 600,1550, 600,500, 600,450, 600,1550, 600,1550, 600,500, 550,1600, 550,500, 600,1550, 600,1550, 600,1550, 600,1550, 600,450, 600,1550, 600,1550, 600,1550, 600,450, 600,500, 600,500, 550,500, 600,1550, 600,500, 550,500, 600,1550, 600,1550, 600,1550, 600,450, 600,500, 600,450, 600,500, 600,450, 600,500, 600,450, 600,500, 600,1550, 600,1550, 600,1550, 550,1600, 550,1600, 550};
  uint16_t T24[199]={4350,4250, 600,1550, 550,550, 550,1550, 600,1550, 600,500, 550,500, 600,1550, 600,500, 550,500, 600,1550, 600,500, 550,500, 600,1550, 600,1550, 600,450, 600,1600, 550,500, 600,500, 550,500, 600,1550, 600,1550, 550,1600, 550,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,500, 550,500, 600,500, 600,450, 600,500, 600,450, 600,1600, 550,500, 600,450, 600,500, 600,1550, 600,450, 600,500, 600,1550, 550,550, 550,1550, 600,1550, 600,1550, 600,450, 600,1550, 600,1550, 600,5050, 4350,4300, 600,1550, 550,500, 600,1550, 600,1550, 600,450, 600,500, 600,1550, 600,500, 550,500, 600,1550, 600,500, 550,500, 600,1550, 600,1550, 600,450, 600,1600, 550,500, 550,550, 550,500, 600,1550, 550,1600, 550,1550, 600,1550, 600,1600, 550,1550, 600,1550, 600,1550, 600,500, 550,500, 600,500, 550,500, 600,500, 600,500, 550,1550, 600,500, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,1600, 550,500, 600,1550, 600,1550, 600,1550, 600,450, 600,1600, 550,1550, 600};
  uint16_t T25[199]={4400,4250, 550,1550, 600,500, 600,1550, 600,1550, 550,500, 600,500, 600,1550, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,1600, 550,1550, 600,500, 600,1550, 600,450, 600,500, 600,500, 550,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 550,500, 600,500, 600,500, 550,500, 600,450, 600,1550, 600,1550, 600,500, 550,500, 600,500, 550,1600, 550,500, 600,500, 600,450, 600,500, 550,1600, 550,1600, 550,1550, 600,500, 600,1550, 600,1550, 600,5050, 4350,4250, 600,1550, 600,500, 550,1550, 600,1550, 600,500, 600,450, 600,1550, 600,500, 600,450, 600,1550, 600,500, 600,450, 600,1550, 600,1550, 600,500, 550,1600, 550,500, 600,500, 550,500, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 550,1550, 600,1550, 600,500, 600,450, 600,500, 600,450, 600,500, 600,1550, 600,1550, 600,450, 600,500, 600,500, 550,1550, 600,500, 600,450, 600,500, 600,450, 600,1550, 600,1550, 600,1550, 600,500, 550,1600, 550,1550, 600};
  uint16_t T26[199]={4400,4250, 600,1550, 550,500, 600,1550, 600,1550, 600,500, 550,500, 600,1550, 600,500, 550,500, 600,1550, 600,450, 600,500, 600,1550, 600,1550, 600,450, 600,1550, 600,500, 550,500, 600,500, 600,1550, 550,1600, 550,1550, 600,1600, 550,1550, 600,1550, 600,1550, 600,1550, 600,450, 600,500, 600,500, 550,500, 600,500, 550,1600, 550,1600, 550,500, 600,1550, 600,450, 600,1550, 600,500, 600,450, 600,500, 600,500, 550,1550, 600,500, 600,1550, 550,550, 550,1550, 600,1550, 600,5050, 4400,4200, 600,1550, 600,500, 600,1550, 550,1600, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,1600, 550,1550, 600,500, 600,1550, 600,450, 600,500, 600,450, 600,1600, 550,1600, 550,1550, 600,1550, 600,1550, 600,1550, 600,1550, 550,1600, 550,500, 600,500, 550,500, 600,500, 600,450, 600,1550, 600,1550, 600,500, 550,1600, 550,500, 600,1550, 600,450, 600,500, 600,450, 600,500, 600,1550, 600,450, 600,1550, 600,500, 600,1550, 600,1550, 550};
  uint16_t T27[199]={4400,4250, 550,1550, 600,500, 600,1550, 600,1550, 600,450, 600,500, 600,1550, 600,450, 600,500, 600,1550, 600,450, 600,500, 600,1550, 550,1600, 550,500, 600,1550, 600,500, 550,500, 600,500, 550,1600, 550,1550, 600,1550, 600,1600, 550,1600, 550,1550, 600,1550, 600,1550, 600,500, 550,500, 600,450, 600,500, 600,500, 550,1600, 550,500, 600,500, 550,1550, 600,500, 600,1550, 600,450, 600,500, 600,450, 600,1550, 600,1600, 550,500, 600,1550, 550,550, 550,1550, 600,1550, 600,5050, 4400,4250, 550,1550, 600,500, 600,1550, 600,1550, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,1600, 550,1550, 600,500, 600,1550, 600,500, 550,500, 600,500, 550,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 550,500, 600,500, 550,500, 600,500, 600,500, 550,1600, 550,500, 600,450, 600,1550, 600,500, 550,1600, 550,500, 600,500, 600,450, 600,1550, 600,1550, 600,500, 550,1550, 600,500, 600,1550, 600,1550, 600};
  uint16_t T28[199]={4400,4250, 550,1600, 550,500, 600,1550, 600,1550, 600,450, 600,500, 600,1550, 600,500, 550,500, 600,1550, 600,450, 600,500, 600,1550, 550,1600, 550,500, 600,1550, 600,500, 550,500, 600,500, 550,1600, 550,1600, 550,1600, 550,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,450, 600,500, 600,450, 600,500, 600,500, 550,1600, 550,500, 600,500, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,500, 600,1550, 600,1550, 600,1550, 600,1550, 550,550, 550,1550, 600,1550, 600,5050, 4400,4250, 550,1550, 600,500, 600,1550, 550,1600, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,1600, 550,1600, 550,500, 600,1550, 600,500, 550,500, 600,450, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 550,1600, 550,500, 600,500, 550,500, 600,500, 550,500, 600,1550, 600,500, 550,500, 600,500, 600,450, 600,1550, 600,500, 600,450, 600,500, 600,1550, 550,1600, 550,1600, 550,1550, 600,500, 600,1550, 600,1550, 600};
  uint16_t Swing[199]={4400,4200, 600,1550, 600,500, 550,1600, 550,1600, 550,500, 600,500, 550,1600, 550,500, 600,500, 550,1550, 600,500, 600,500, 550,1550, 600,1550, 600,500, 600,1550, 600,450, 600,1550, 600,1550, 600,500, 550,1600, 550,500, 600,1550, 600,1550, 600,1550, 600,450, 600,500, 600,1550, 550,500, 600,1550, 600,500, 550,500, 600,1550, 600,1550, 600,1550, 600,500, 550,500, 600,500, 550,500, 600,500, 550,500, 600,500, 550,500, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,5050, 4350,4250, 600,1550, 600,500, 550,1600, 550,1550, 600,500, 600,450, 600,1550, 600,500, 600,450, 600,1550, 600,500, 600,450, 600,1550, 600,1600, 550,500, 550,1600, 550,500, 600,1550, 600,1550, 600,500, 550,1550, 600,500, 600,1550, 600,1550, 600,1550, 550,500, 600,500, 550,1600, 550,500, 600,1550, 600,500, 550,500, 600,1550, 600,1550, 600,1550, 550,500, 600,500, 600,450, 600,500, 600,450, 600,500, 600,500, 550,500, 600,1550, 600,1550, 600,1550, 550,1600, 550,1600, 550};
  uint16_t LOFF[199]={4350,4250, 600,1550, 600,500, 600,1550, 600,1550, 600,450, 600,1550, 600,500, 550,1600, 550,500, 600,1550, 600,500, 550,500, 600,1550, 600,500, 550,1550, 600,500, 600,1550, 600,1550, 600,1550, 600,1550, 550,550, 550,1550, 600,500, 550,1600, 550,500, 600,500, 550,500, 600,500, 550,1600, 550,500, 600,1550, 600,500, 550,1600, 550,500, 600,1550, 600,450, 600,500, 600,1550, 600,500, 550,1550, 600,500, 600,1550, 600,500, 550,1600, 550,1550, 600,500, 550,1600, 550,500, 600,5050, 4400,4250, 550,1550, 600,500, 600,1550, 600,1550, 600,450, 600,1550, 600,500, 600,1550, 600,500, 550,1550, 600,500, 550,500, 600,1550, 600,500, 550,1600, 550,500, 600,1550, 600,1550, 600,1550, 600,1550, 600,450, 600,1550, 600,500, 600,1550, 550,500, 600,500, 550,500, 600,500, 600,1550, 550,500, 600,1550, 600,500, 600,1550, 550,500, 600,1550, 600,500, 550,500, 600,1550, 600,500, 550,1550, 600,500, 600,1550, 600,500, 550,1600, 550,1600, 550,500, 600,1550, 550,550, 550};
  uint16_t DRY[199]={4400,4250, 550,1550, 600,500, 600,1550, 600,1550, 600,450, 600,500, 600,1550, 550,500, 600,500, 600,1550, 550,500, 600,500, 600,1550, 550,1600, 550,500, 600,1550, 600,500, 550,500, 600,500, 550,1600, 550,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,1550, 600,450, 600,500, 600,500, 550,500, 600,500, 550,1600, 550,1550, 600,500, 600,500, 550,500, 600,1550, 600,450, 600,500, 600,500, 550,500, 600,1550, 600,1550, 600,1550, 600,450, 600,1550, 600,1550, 600,5050, 4400,4250, 550,1600, 550,500, 600,1550, 600,1550, 600,500, 550,500, 600,1550, 600,450, 600,500, 600,1550, 600,450, 600,500, 600,1550, 600,1550, 600,450, 600,1550, 600,500, 600,450, 600,500, 600,1550, 600,1550, 550,1600, 550,1600, 550,1550, 600,1550, 600,1550, 600,1550, 600,500, 550,500, 600,500, 600,450, 600,500, 600,1550, 600,1550, 550,500, 600,500, 600,450, 600,1550, 600,500, 550,500, 600,500, 600,450, 600,1550, 600,1550, 600,1550, 600,500, 550,1600, 550,1550, 600};
  int n=1;
  WiFiClient client= server.available();
  if(!client)
  {
    return;
  }
  String Orders = client.readStringUntil('\r');
  client.flush();
  if(Orders.indexOf("/TurnOn")!=-1)
  {
    for(n=1;n<75;n++)
    {
      Serial.println(Power[n]);
    }
    remote.sendRaw(Power,75,38);
  }
  else if(Orders.indexOf("/VolumeUp")!=-1)
  {
    remote.sendRaw(VolU,75,38);
  }
  else if(Orders.indexOf("/Volume+3")!=-1)
  {
    for(n=1;n<=3;n++)
    {
      remote.sendRaw(VolU,75,38);
      delay(1000);
    }
  }
  else if(Orders.indexOf("/Volume+5")!=-1)
  {
    for(n=1;n<=5;n++)
    {
      remote.sendRaw(VolU,75,38);
      delay(1000);
    }
  }
  else if(Orders.indexOf("/Volume+10")!=-1)
  {
    for(n=1;n<=10;n++)
    {
      remote.sendRaw(VolU,75,38);
      delay(1000);
    }
  }
  else if(Orders.indexOf("/VolumeDown")!=-1)
  {
    remote.sendRaw(VolD,75,38);
  }
  else if(Orders.indexOf("/Volume-3")!=-1)
  {
    for(n=1;n<=3;n++)
    {
      remote.sendRaw(VolD,75,38);
      delay(1000);
    }
  }
  else if(Orders.indexOf("/Volume-5")!=-1)
  {
    for(n=1;n<=5;n++)
    {
      remote.sendRaw(VolD,75,38);
      delay(1000);
    }
  }
  else if(Orders.indexOf("/Volume-10")!=-1)
  {
    for(n=1;n<=10;n++)
    {
      remote.sendRaw(VolD,75,38);
      delay(1000);
    }
  }
  else if(Orders.indexOf("/HDMI")!=-1)
  {
    remote.sendRaw(HDMI,75,38);
  }
  else if(Orders.indexOf("/On")!=-1)
  {
    remote.sendRaw(On,199,38);
  }
  else if(Orders.indexOf("/Off")!=-1)
  {
    remote.sendRaw(Off,199,38);
  }
  else if(Orders.indexOf("/Temp24")!=-1)
  {
    remote.sendRaw(T24,199,38);
  }
  else if(Orders.indexOf("/Temp25")!=-1)
  {
    remote.sendRaw(T25,199,38);
  }
  else if(Orders.indexOf("/Temp26")!=-1)
  {
    remote.sendRaw(T26,199,38);
  }
  else if(Orders.indexOf("/Temp27")!=-1)
  {
    remote.sendRaw(T27,199,38);
  }
  else if(Orders.indexOf("/Temp28")!=-1)
  {
    remote.sendRaw(T27,199,38);
  }
  else if(Orders.indexOf("/Swing")!=-1)
  {
    remote.sendRaw(Swing,199,38);
  }
  else if(Orders.indexOf("/LED_Off")!=-1)
  {
    remote.sendRaw(LOFF,199,38);
  }
  else if(Orders.indexOf("/Mode_DRY")!=-1)
  {
    remote.sendRaw(DRY,199,38);
  }
  String web="HTTP/1.1 200 OK\r\nContent-Type: text/html\r\n\r\n";
  web += "<html>\r\n";
  web += "<body>\r\n";
  web += "<h1>Order received!</h1>\r\n";
  web += "<p>\r\n";
  client.print(web);
}
